# ================================================================
# DEVELOPMENT ENVIRONMENT CONFIGURATION
# Resource Group: refopen-dev-rg
# Location: Central India / South India
# Last Updated: January 2026
# ================================================================

# ========================================================================
# üîß APPLICATION
# ========================================================================
NODE_ENV=development
APP_NAME=RefOpen
APP_ENV=development
PORT=8080
API_VERSION=v1

# ========================================================================
# üîê JWT_AUTHENTICATION
# ========================================================================
# Using Key Vault reference for dev environment
JWT_SECRET=@Microsoft.KeyVault(SecretUri=https://refopen-kv-dev.vault.azure.net/secrets/JwtSecret/)
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d
JWT_ACCESS_TOKEN_EXPIRY=7d
JWT_REFRESH_TOKEN_EXPIRY=30d
BCRYPT_SALT_ROUNDS=12

# ========================================================================
# üö© FEATURE_FLAGS
# ========================================================================
FEATURE_FLAG_REFERRAL_SYSTEM=true
FEATURE_FLAG_GOOGLE_SIGNIN=true
FEATURE_FLAG_PAYMENT_SYSTEM=true
FEATURE_FLAG_JOB_SCRAPING=true
ENABLE_REFERRAL_SYSTEM=true
ENABLE_WALLET_SYSTEM=true
ENABLE_JOB_SCRAPING=true
ENABLE_GOOGLE_OAUTH=true

AZURE_STORAGE_CONTAINER_ARCHIVED_JOBS=archived-jobs
JOB_ARCHIVAL_ENABLED=true
JOB_ARCHIVAL_DAYS_OLD=60

# ========================================================================
# üîó API_CORS
# ========================================================================
CORS_ORIGINS=*
CORS_ALLOWED_ORIGINS=https://thankful-pebble-07c889000.1.azurestaticapps.net,http://localhost:8081,http://localhost:19006,http://localhost:3000
RATE_LIMIT_MAX_REQUESTS=1000
RATE_LIMIT_WINDOW_MS=900000

# ========================================================================
# üí≥ RAZORPAY - TEST CREDENTIALS (Use test keys for dev)
# ========================================================================
RAZORPAY_KEY_ID=rzp_test_YOUR_TEST_KEY_ID
RAZORPAY_KEY_SECRET=YOUR_TEST_KEY_SECRET
RAZORPAY_WEBHOOK_SECRET=YOUR_TEST_WEBHOOK_SECRET

# ========================================================================
# JOB SCRAPING & ENRICHMENT APIs
# ========================================================================
# Adzuna Job Search API (Free tier: 1000 calls/month)
ADZUNA_APP_ID=f88adc65
ADZUNA_APP_KEY=YOUR_ADZUNA_APP_KEY

# Clearbit Company API (Enrichment for organization data)
CLEARBIT_API_KEY=

# Job Scraping Configuration
SCHEDULER_ENABLED=false
SCRAPING_INTERVAL_HOURS=24
AUTO_START_SCHEDULER=false
INIT_SCHEDULER=false

# ========================================================================
# üîë GOOGLE_OAUTH
# ========================================================================
GOOGLE_CLIENT_ID_WEB=179542785325-ava51t8ercmv4vg6aef1ftn9rqef6pis.apps.googleusercontent.com
GOOGLE_CLIENT_ID_ANDROID=179542785325-ava51t8ercmv4vg6aef1ftn9rqef6pis.apps.googleusercontent.com
GOOGLE_CLIENT_ID_IOS=179542785325-c1mhgrhu0mhmjj896h6c7ateuucmp2nc.apps.googleusercontent.com

# ========================================================================
# üì¶ AZURE_STORAGE - DEV (refopenstoragedev) - Key Vault Secured
# ========================================================================
AZURE_STORAGE_CONNECTION_STRING=@Microsoft.KeyVault(SecretUri=https://refopen-kv-dev.vault.azure.net/secrets/AzureStorageConnectionString/)
AZURE_STORAGE_CONTAINER_NAME=refopen-files
AZURE_STORAGE_ACCOUNT_NAME=refopenstoragedev
AZURE_STORAGE_ACCOUNT_KEY=@Microsoft.KeyVault(SecretUri=https://refopen-kv-dev.vault.azure.net/secrets/AzureStorageAccountKey/)

# ========================================================================
# üìä APPLICATION_INSIGHTS - DEV (refopen-monitor-dev)
# ========================================================================
APPLICATIONINSIGHTS_CONNECTION_STRING=InstrumentationKey=a27f6b07-8db6-46fc-bbfc-0b9f31530ef2;IngestionEndpoint=https://centralindia-0.in.applicationinsights.azure.com/;LiveEndpoint=https://centralindia.livediagnostics.monitor.azure.com/
APPINSIGHTS_INSTRUMENTATIONKEY=a27f6b07-8db6-46fc-bbfc-0b9f31530ef2

# ========================================================================
# üóÉÔ∏è DATABASE - DEV (refopen-sqlserver-dev)
# ========================================================================
DB_SERVER=refopen-sqlserver-dev.database.windows.net
DB_NAME=refopen-sql-db-dev
DB_DATABASE=refopen-sql-db-dev
DB_USER=sqladmin
DB_PASSWORD=@Microsoft.KeyVault(SecretUri=https://refopen-kv-dev.vault.azure.net/secrets/SqlPassword/)
DB_PORT=1433
DB_ENCRYPT=true
DB_TRUST_SERVER_CERTIFICATE=false
DB_CONNECTION_TIMEOUT=30

# Full Connection String (Key Vault Secured)
DB_CONNECTION_STRING=@Microsoft.KeyVault(SecretUri=https://refopen-kv-dev.vault.azure.net/secrets/DbConnectionString/)

# ========================================================================
# ‚ö° AZURE_FUNCTION - DEV (refopen-api-func-dev)
# ========================================================================
FUNCTIONS_WORKER_RUNTIME=node
WEBSITE_NODE_DEFAULT_VERSION=~20
FUNCTIONS_EXTENSION_VERSION=~4

# AzureWebJobsStorage (Key Vault Secured)
AzureWebJobsStorage=@Microsoft.KeyVault(SecretUri=https://refopen-kv-dev.vault.azure.net/secrets/AzureStorageConnectionString/)

# Content Share (Key Vault Secured)
WEBSITE_CONTENTAZUREFILECONNECTIONSTRING=@Microsoft.KeyVault(SecretUri=https://refopen-kv-dev.vault.azure.net/secrets/AzureStorageConnectionString/)
WEBSITE_CONTENTSHARE=refopen-api-func-dev-content
WEBSITE_RUN_FROM_PACKAGE=1
ENABLE_ORYX_BUILD=false
SCM_DO_BUILD_DURING_DEPLOYMENT=false

# ========================================================================
# üìÅ STORAGE_CONTAINERS
# ========================================================================
AZURE_STORAGE_CONTAINER_DOCUMENTS=documents
AZURE_STORAGE_CONTAINER_PROFILE_IMAGES=profile-images
AZURE_STORAGE_CONTAINER_RESUMES=resumes
AZURE_STORAGE_CONTAINER_REFERRAL_PROOFS=referral-proofs

# ========================================================================
# üéÅ REFERRAL & BONUS SYSTEM
# ========================================================================
WELCOME_BONUS_AMOUNT=100
REFERRAL_BONUS_AMOUNT=50
MIN_WALLET_RECHARGE=100
MAX_WALLET_RECHARGE=100000

# ========================================================================
# üåê API_ENDPOINTS
# ========================================================================
API_BASE_URL=https://refopen-api-func-dev.azurewebsites.net/api
FRONTEND_URL=https://thankful-pebble-07c889000.1.azurestaticapps.net

# ========================================================================
# üìß EMAIL_SERVICE (AWS SES)
# ========================================================================
AWS_REGION=ap-south-1
EMAIL_FROM=noreply@refopen.com
EMAIL_FROM_NAME=RefOpen Dev

# ========================================================================
# üì® AZURE COMMUNICATION SERVICES (Email)
# ========================================================================
ACS_CONNECTION_STRING=endpoint=https://refopen-acs-dev.india.communication.azure.com/;accesskey=YOUR_ACS_KEY
EMAIL_SENDER_ADDRESS=noreply@refopen.com
ADMIN_NOTIFICATION_EMAILS=parimalkumar261@gmail.com

# ========================================================================
# ü§ñ AI SERVICES (Gemini + Groq fallback + Jina) ‚Äî Key Vault driven
# ========================================================================
GEMINI_API_KEY=@Microsoft.KeyVault(SecretUri=https://refopen-kv-dev.vault.azure.net/secrets/GeminiApiKey/)
GROQ_API_KEY=@Microsoft.KeyVault(SecretUri=https://refopen-kv-dev.vault.azure.net/secrets/GroqApiKey/)
JINA_API_KEY=@Microsoft.KeyVault(SecretUri=https://refopen-kv-dev.vault.azure.net/secrets/JinaApiKey/)

# ========================================================================
# üìù LOGGING
# ========================================================================
LOG_LEVEL=debug
ENABLE_REQUEST_LOGGING=true
ENABLE_PERFORMANCE_MONITORING=true

# ================================================================
# üìã DEPLOYMENT INFO
# ================================================================
# Resource Group: refopen-dev-rg
# Location: Central India / South India
# Function App: refopen-api-func-dev
# Storage Account: refopenstoragedev
# SQL Server: refopen-sqlserver-dev
# SQL Database: refopen-sql-db-dev
# Static Web App: refopen-frontend-dev (thankful-pebble-07c889000.1.azurestaticapps.net)
# App Insights: refopen-monitor-dev
# SignalR: refopen-signalr-dev
# Key Vault: refopen-kv-dev
# ================================================================
